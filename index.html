<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Youssef & Ameni Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #f0f2f5;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
        }

        .container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
            font-size: 24px;
        }

        .room-box {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .room-box h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .room-box input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 18px;
            text-align: center;
        }

        .player-buttons {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }

        .player-choice {
            flex: 1;
            padding: 20px;
            font-size: 20px;
            font-weight: bold;
            border: 3px solid #ddd;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .player-choice.youssef {
            color: #2196F3;
            border-color: #2196F3;
        }

        .player-choice.youssef:hover {
            background: #2196F3;
            color: white;
        }

        .player-choice.ameni {
            color: #E91E63;
            border-color: #E91E63;
        }

        .player-choice.ameni:hover {
            background: #E91E63;
            color: white;
        }

        .code-display {
            font-size: 40px;
            font-weight: bold;
            background: #333;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            letter-spacing: 5px;
        }

        .secret-area {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .secret-area h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .secret-area input {
            width: 100%;
            padding: 15px;
            font-size: 24px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .waiting-box {
            background: #fff3cd;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            color: #856404;
            margin: 20px 0;
            font-size: 18px;
        }

        .game-play {
            margin-top: 20px;
        }

        .turn-box {
            text-align: center;
            font-size: 18px;
            padding: 15px;
            background: #e8f5e9;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
        }

        .guess-box {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .guess-box input {
            width: 100%;
            padding: 15px;
            font-size: 24px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        button {
            width: 100%;
            padding: 15px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 5px 0;
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        button.secondary {
            background: #2196F3;
        }

        button.reset {
            background: #f44336;
        }

        .hint-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-size: 20px;
            margin: 15px 0;
            font-weight: bold;
        }

        .history-box {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }

        .history-item {
            padding: 8px;
            border-bottom: 1px solid #eee;
        }

        .winner-box {
            background: #4CAF50;
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            font-size: 28px;
            margin: 20px 0;
            font-weight: bold;
        }

        .hidden {
            display: none;
        }

        .locked-info {
            background: #e8f5e9;
            padding: 10px;
            border-radius: 6px;
            color: #2e7d32;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ YOUSSEF ü§ù AMENI</h1>

        <!-- Enter Code Screen -->
        <div id="enterCodeScreen">
            <div class="room-box">
                <h3>ENTER GAME CODE</h3>
                <input type="text" id="gameCode" placeholder="Code (ex: 1234)" value="1234">
                <button onclick="enterCode()">Join Game</button>
                <p style="margin-top: 15px; color: #666;">Use same code on both phones</p>
            </div>
        </div>

        <!-- Choose Player Screen -->
        <div id="choosePlayerScreen" class="hidden">
            <div class="room-box">
                <h3>WHO ARE YOU?</h3>
                <div class="player-buttons">
                    <button class="player-choice youssef" onclick="setPlayer('youssef')">YOUSSEF</button>
                    <button class="player-choice ameni" onclick="setPlayer('ameni')">AMENI</button>
                </div>
                <div class="code-display" id="codeDisplay">1234</div>
                <p style="color: #666;">Share this code with the other person</p>
            </div>
        </div>

        <!-- Youssef's Screen -->
        <div id="youssefScreen" class="hidden">
            <!-- Set Secret -->
            <div id="youssefSetSecret">
                <div class="secret-area">
                    <h3>üë§ YOUSSEF - Choose your secret number</h3>
                    <input type="number" id="youssefSecret" min="1" max="100" placeholder="Enter 1-100">
                    <button onclick="lockNumber('youssef')">LOCK MY NUMBER ‚úì</button>
                </div>
            </div>

            <!-- Waiting -->
            <div id="youssefWaiting" class="waiting-box hidden">
                ‚è≥ Waiting for Ameni to lock her number...
            </div>

            <!-- Game Play -->
            <div id="youssefGame" class="game-play hidden">
                <div class="turn-box" id="youssefTurn">Loading...</div>
                
                <div class="guess-box">
                    <h3 style="margin-bottom: 10px;">Guess Ameni's number</h3>
                    <input type="number" id="youssefGuess" min="1" max="100" placeholder="Your guess">
                    <button onclick="makeGuess('youssef')" id="youssefBtn" disabled>GUESS</button>
                </div>

                <div id="youssefHint" class="hint-box hidden"></div>

                <div class="history-box">
                    <h4 style="margin-bottom: 10px;">üìù History</h4>
                    <div id="youssefHistory"></div>
                </div>
            </div>
        </div>

        <!-- Ameni's Screen -->
        <div id="ameniScreen" class="hidden">
            <!-- Set Secret -->
            <div id="ameniSetSecret">
                <div class="secret-area">
                    <h3>üë§ AMENI - Choose your secret number</h3>
                    <input type="number" id="ameniSecret" min="1" max="100" placeholder="Enter 1-100">
                    <button onclick="lockNumber('ameni')">LOCK MY NUMBER ‚úì</button>
                </div>
            </div>

            <!-- Waiting -->
            <div id="ameniWaiting" class="waiting-box hidden">
                ‚è≥ Waiting for Youssef to lock his number...
            </div>

            <!-- Game Play -->
            <div id="ameniGame" class="game-play hidden">
                <div class="turn-box" id="ameniTurn">Loading...</div>
                
                <div class="guess-box">
                    <h3 style="margin-bottom: 10px;">Guess Youssef's number</h3>
                    <input type="number" id="ameniGuess" min="1" max="100" placeholder="Your guess">
                    <button onclick="makeGuess('ameni')" id="ameniBtn" disabled>GUESS</button>
                </div>

                <div id="ameniHint" class="hint-box hidden"></div>

                <div class="history-box">
                    <h4 style="margin-bottom: 10px;">üìù History</h4>
                    <div id="ameniHistory"></div>
                </div>
            </div>
        </div>

        <!-- Winner Screen -->
        <div id="winnerScreen" class="winner-box hidden"></div>

        <!-- Reset Button -->
        <button class="reset" onclick="resetGame()" style="margin-top: 20px;">üîÑ New Game</button>
    </div>

    <script>
        let currentPlayer = null;
        let gameCode = '1234';
        
        let game = {
            secretY: null,
            secretA: null,
            youssefLocked: false,
            ameniLocked: false,
            turn: 'youssef',
            winner: null,
            guesses: [],
            lastHint: null
        };

        // Load saved game
        function loadGame() {
            let saved = localStorage.getItem('youssefAmeniGame');
            if (saved) {
                game = JSON.parse(saved);
            }
        }

        // Save game
        function saveGame() {
            localStorage.setItem('youssefAmeniGame', JSON.stringify(game));
        }

        // Enter code
        function enterCode() {
            let code = document.getElementById('gameCode').value;
            if (code) {
                gameCode = code;
                document.getElementById('codeDisplay').innerText = code;
                document.getElementById('enterCodeScreen').classList.add('hidden');
                document.getElementById('choosePlayerScreen').classList.remove('hidden');
                loadGame();
            }
        }

        // Choose player
        function setPlayer(player) {
            currentPlayer = player;
            document.getElementById('choosePlayerScreen').classList.add('hidden');
            
            if (player === 'youssef') {
                document.getElementById('youssefScreen').classList.remove('hidden');
                updateYoussefScreen();
            } else {
                document.getElementById('ameniScreen').classList.remove('hidden');
                updateAmeniScreen();
            }
        }

        // Lock secret number
        function lockNumber(player) {
            if (player === 'youssef') {
                let num = parseInt(document.getElementById('youssefSecret').value);
                if (num >= 1 && num <= 100) {
                    game.secretY = num;
                    game.youssefLocked = true;
                    document.getElementById('youssefSetSecret').classList.add('hidden');
                    document.getElementById('youssefWaiting').classList.remove('hidden');
                    saveGame();
                } else {
                    alert('Please enter 1-100');
                }
            } else {
                let num = parseInt(document.getElementById('ameniSecret').value);
                if (num >= 1 && num <= 100) {
                    game.secretA = num;
                    game.ameniLocked = true;
                    document.getElementById('ameniSetSecret').classList.add('hidden');
                    document.getElementById('ameniWaiting').classList.remove('hidden');
                    saveGame();
                } else {
                    alert('Please enter 1-100');
                }
            }

            // Check if both locked
            if (game.youssefLocked && game.ameniLocked) {
                startGame();
            }
        }

        // Start game
        function startGame() {
            game.turn = 'youssef';
            game.winner = null;
            saveGame();

            if (currentPlayer === 'youssef') {
                document.getElementById('youssefWaiting').classList.add('hidden');
                document.getElementById('youssefGame').classList.remove('hidden');
                updateYoussefScreen();
            } else {
                document.getElementById('ameniWaiting').classList.add('hidden');
                document.getElementById('ameniGame').classList.remove('hidden');
                updateAmeniScreen();
            }
        }

        // Make a guess
        function makeGuess(player) {
            if (game.winner) return;
            if (game.turn !== player) return;

            let guess;
            if (player === 'youssef') {
                guess = parseInt(document.getElementById('youssefGuess').value);
                if (!guess || guess < 1 || guess > 100) {
                    alert('Enter 1-100');
                    return;
                }

                // Check guess
                if (guess === game.secretA) {
                    game.winner = 'youssef';
                    game.lastHint = 'üéØ CORRECT!';
                } else {
                    game.lastHint = guess < game.secretA ? '‚¨ÜÔ∏è HIGHER' : '‚¨áÔ∏è LOWER';
                    game.turn = 'ameni';
                }
            } else {
                guess = parseInt(document.getElementById('ameniGuess').value);
                if (!guess || guess < 1 || guess > 100) {
                    alert('Enter 1-100');
                    return;
                }

                // Check guess
                if (guess === game.secretY) {
                    game.winner = 'ameni';
                    game.lastHint = 'üéØ CORRECT!';
                } else {
                    game.lastHint = guess < game.secretY ? '‚¨ÜÔ∏è HIGHER' : '‚¨áÔ∏è LOWER';
                    game.turn = 'youssef';
                }
            }

            // Add to history
            game.guesses.push({
                player: player,
                guess: guess,
                hint: game.lastHint
            });

            // Clear input
            if (player === 'youssef') {
                document.getElementById('youssefGuess').value = '';
            } else {
                document.getElementById('ameniGuess').value = '';
            }

            saveGame();

            if (game.winner) {
                showWinner();
            }

            // Update screens
            if (currentPlayer === 'youssef') {
                updateYoussefScreen();
            } else {
                updateAmeniScreen();
            }
        }

        // Update Youssef's screen
        function updateYoussefScreen() {
            if (!currentPlayer || currentPlayer !== 'youssef') return;

            let turnEl = document.getElementById('youssefTurn');
            let btn = document.getElementById('youssefBtn');
            let hintEl = document.getElementById('youssefHint');
            
            if (game.winner) {
                turnEl.innerText = game.winner === 'youssef' ? 'üëë YOU WON! üëë' : 'üëë AMENI WON! üëë';
                btn.disabled = true;
                return;
            }

            // Update turn
            if (game.turn === 'youssef') {
                turnEl.innerText = 'üéÆ YOUR TURN - Guess Ameni\'s number';
                btn.disabled = false;
            } else {
                turnEl.innerText = '‚è≥ AMENI\'S TURN - Waiting for her guess';
                btn.disabled = true;
            }

            // Show last hint if it was your guess
            if (game.guesses.length > 0) {
                let last = game.guesses[game.guesses.length - 1];
                if (last.player === 'youssef') {
                    hintEl.innerText = last.hint;
                    hintEl.classList.remove('hidden');
                } else {
                    hintEl.classList.add('hidden');
                }
            }

            // Update history
            let historyHtml = '';
            game.guesses.slice().reverse().forEach(g => {
                historyHtml += `<div class="history-item">${g.player === 'youssef' ? 'You' : 'Ameni'} guessed ${g.guess} - ${g.hint}</div>`;
            });
            if (historyHtml === '') {
                historyHtml = '<div class="history-item">No guesses yet</div>';
            }
            document.getElementById('youssefHistory').innerHTML = historyHtml;
        }

        // Update Ameni's screen
        function updateAmeniScreen() {
            if (!currentPlayer || currentPlayer !== 'ameni') return;

            let turnEl = document.getElementById('ameniTurn');
            let btn = document.getElementById('ameniBtn');
            let hintEl = document.getElementById('ameniHint');
            
            if (game.winner) {
                turnEl.innerText = game.winner === 'ameni' ? 'üëë YOU WON! üëë' : 'üëë YOUSSEF WON! üëë';
                btn.disabled = true;
                return;
            }

            // Update turn
            if (game.turn === 'ameni') {
                turnEl.innerText = 'üéÆ YOUR TURN - Guess Youssef\'s number';
                btn.disabled = false;
            } else {
                turnEl.innerText = '‚è≥ YOUSSEF\'S TURN - Waiting for his guess';
                btn.disabled = true;
            }

            // Show last hint if it was your guess
            if (game.guesses.length > 0) {
                let last = game.guesses[game.guesses.length - 1];
                if (last.player === 'ameni') {
                    hintEl.innerText = last.hint;
                    hintEl.classList.remove('hidden');
                } else {
                    hintEl.classList.add('hidden');
                }
            }

            // Update history
            let historyHtml = '';
            game.guesses.slice().reverse().forEach(g => {
                historyHtml += `<div class="history-item">${g.player === 'ameni' ? 'You' : 'Youssef'} guessed ${g.guess} - ${g.hint}</div>`;
            });
            if (historyHtml === '') {
                historyHtml = '<div class="history-item">No guesses yet</div>';
            }
            document.getElementById('ameniHistory').innerHTML = historyHtml;
        }

        // Show winner
        function showWinner() {
            let winnerDiv = document.getElementById('winnerScreen');
            winnerDiv.classList.remove('hidden');
            
            if (game.winner === 'youssef') {
                winnerDiv.innerText = 'üèÜ YOUSSEF WINS! üèÜ';
            } else {
                winnerDiv.innerText = 'üèÜ AMENI WINS! üèÜ';
            }

            if (currentPlayer === 'youssef') {
                document.getElementById('youssefBtn').disabled = true;
            } else {
                document.getElementById('ameniBtn').disabled = true;
            }
        }

        // Reset game
        function resetGame() {
            game = {
                secretY: null,
                secretA: null,
                youssefLocked: false,
                ameniLocked: false,
                turn: 'youssef',
                winner: null,
                guesses: [],
                lastHint: null
            };
            localStorage.removeItem('youssefAmeniGame');
            location.reload();
        }

        // Check for updates every second
        setInterval(() => {
            loadGame();
            if (currentPlayer === 'youssef') {
                updateYoussefScreen();
            } else if (currentPlayer === 'ameni') {
                updateAmeniScreen();
            }
        }, 1000);

        // Initial load
        loadGame();
    </script>
</body>
</html>
